SCRIPT_START
{
NOP
WAIT 0

LVAR_INT scplayer tblip enem wpick
LVAR_FLOAT x y z
GET_PLAYER_CHAR 0 scplayer

main_loop:
GET_CHAR_COORDINATES scplayer x y z

IF X = 2488.562
OR y = -1666.865
    GOTO mission
ENDIF
GOTO main_loop

mission:
DO_FADE 10000 0
    DISABLE_ALL_ENTRY_EXITS TRUE
    SET_WANTED_MULTIPLIER 0.0
    SET_TIME_OF_DAY 15 22
    SET_AREA_VISIBLE 9
    SET_CHAR_AREA_VISIBLE scplayer 9
    LOAD_SCENE -6555.7251 -2599.7314 995.7842
    SET_CHAR_COORDINATES scplayer -6555.7251 -2599.7314 995.7842
    REQUEST_MODEL 46
    REQUEST_MODEL 347
    WHILE NOT HAS_MODEL_LOADED 347
        WAIT 0
    ENDWHILE
    GIVE_WEAPON_TO_CHAR scplayer WEAPONTYPE_PARACHUTE 1   //paraquedas
    GIVE_WEAPON_TO_CHAR scplayer WEAPONTYPE_PISTOL_SILENCED 100
    SET_CURRENT_CHAR_WEAPON scplayer 0
//DO_FADE 1000 1

cutscene1:
SET_PLAYER_CONTROL 0 FALSE
DISPLAY_HUD 0
DISPLAY_RADAR 0
WAIT 2000
SET_FIXED_CAMERA_POSITION -6560.5762, -2596.8345, 998.9955 0.0 0.0 0.0
POINT_CAMERA_AT_POINT -6559.7144, -2597.3394, 998.5976 2

DO_FADE 10000 1
TASK_PLAY_ANIM scplayer roadcross ped 4.0 0 0 0 0 -1
WAIT 2000

SET_PLAYER_CONTROL 0 TRUE
RESTORE_CAMERA
DISPLAY_HUD 1
DISPLAY_RADAR 1
//ADD_CLEO_BLIP 13 -6353.7227 -2701.7156
ADD_SPRITE_BLIP_FOR_COORD -6353.7227, -2701.7156, 3.3997 13 tblip

waiting_jump:
WAIT 0
GET_CHAR_COORDINATES scplayer x y z

IF z < 882.0000
    SET_AREA_VISIBLE 0
    SET_CHAR_AREA_VISIBLE scplayer 0
    GOTO jumped
ENDIF

GOTO waiting_jump

jumped:
WAIT 0
IF LOCATE_CHAR_ANY_MEANS_3D scplayer -6309.9780, -2711.9392, 16.5814 (5.0 5.0 3.0) TRUE
    GOTO pousou
    REMOVE_BLIP tblip
    WHILE LOCATE_CHAR_ANY_MEANS_3D scplayer -6309.9780, -2711.9392, 16.5814 (5.0 5.0 3.0) TRUE
        WAIT 0
    ENDWHILE
ENDIF
GOTO jumped

pousou:
WAIT 0
REQUEST_MODEL FAM1  //vwmycr
REQUEST_MODEL 355   //AK
WHILE NOT HAS_MODEL_LOADED FAM1
AND NOT HAS_MODEL_LOADED 355
    WAIT 0
ENDWHILE
CREATE_CHAR PEDTYPE_GANG2 FAM1 -6315.9741 -2720.6428 4.3061 enem
GIVE_WEAPON_TO_CHAR enem WEAPONTYPE_AK47 10000
TASK_GO_STRAIGHT_TO_COORD enem -6316.3296, -2724.1802, 4.1047 4 30000
chwalk:
WAIT 0
GET_CHAR_COORDINATES enem x y z
IF IS_CHAR_IN_AREA_2D enem -6315.0 -2723.0 -6317.0 2725.0 0
    TASK_GO_STRAIGHT_TO_COORD enem -6329.6021, -2720.6094, 4.1047 4 30000
ENDIF

IF IS_CHAR_IN_AREA_2D enem -6328.0 -2719.0 -6330.0 -2721.0 0
    TASK_GO_STRAIGHT_TO_COORD enem -6332.3242, -2702.5005, 4.1047 4 30000
ENDIF

IF IS_CHAR_DEAD enem
    PLAY_MISSION_PASSED_TUNE 1
    PRINT_STRING_NOW "THANK YOU FOR TESTING THIS!" 5000
ENDIF

IF HAS_CHAR_SPOTTED_CHAR_IN_FRONT enem scplayer
    TASK_SHOOT_AT_CHAR enem scplayer -2
ENDIF
GOTO chwalk


end:
}
SCRIPT_END